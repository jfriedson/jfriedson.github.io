{{ if .Site.Data.homepage.certifications.enable }}
<section id="certifications" class="section-certifications section section--border-bottom rad-animation-group">
    <div class="container">
        <div class="row flex-column-reverse flex-md-row rad-fade-down">
            <div class="col-12 cold-md-12 col-sm-6 mt-5 mt-sm-0">
                {{ $xp := (where .Site.RegularPages.ByDate.Reverse "Type" "certifications") }}
                {{ $xpCount := len $xp }}
                {{/* in the homepage we limit to the homepageCertificationsCount param (6 by default) in the inner page (certifications) we display the all */}}
                {{ $totalCount := .Site.Params.homepageCertificationsCount }}
                
                {{ if not .IsHome }}
                {{ $totalCount = len $xp }}
                {{ end }}
                {{ range first $totalCount $xp }}
                <div class="certifications">
                    <a href="{{.Permalink}}">
                        {{/* The context, ".", is now each one of the pages as it goes
                        through the loop */}}
                        <div class="certifications__date">{{ .Params.duration }}</div>
                        <div class="certifications__title">{{ .Params.jobTitle }}</div>
                        <div class="certifications__company">{{ .Params.company }}. <span class="certifications__location">{{
                                .Params.location }}</span></div>
                    </a>
                </div>
                {{ end }}
                {{ if gt $xpCount $totalCount }}
                <div class="all-certifications-container">
                    {{ $xpExtra := sub $xpCount $totalCount }}
                    <em>And {{ $xpExtra }} more</em><br />
                    <a href="{{ absURL "certifications" }} " title=" See additional {{ $xpExtra }} certification items"
                        class="btn btn-primary btn-all-certifications">
                        <i class="{{ .Site.Data.homepage.certifications.button3.icon }}"></i>
                        {{ .Site.Data.homepage.certifications.button3.btnText }}
                    </a>
                </div>
                {{ end }}
            </div>
            <div class="col-12 col-md-6">
                {{ partial "certifications-description.html" . }}
            </div>
        </div>
    </div>
</section>
{{ end }}